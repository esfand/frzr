"use strict";var frzr=function(){function t(t){this.listeners={};for(var n in t)this[n]=t[n]}function n(t,n){for(var e=t.length,r=0;e>r;r++)n(t[r],r,e)}function e(t,n){for(var e=[],r=t.length,i=0;r>i;i++){var o=t[i];n(o,i,r)&&e.push(o)}return e}function r(t){if(!t||!t.length)return t;for(var n=t.length-1;n>0;n--){var e=Math.random()*n|0,r=t[n];t[n]=t[e],t[e]=r}return t}function i(t,n){for(var e=t.length,r=new Array(e),i=0;e>i;i++)r[i]=n(t[i],i,e);return r}function o(t,n){t["super"]=n,t.prototype=Object.create(n.prototype,{constructor:{configurable:!0,value:t,writable:!0}})}function s(t){return t}function u(t){return Math.pow(t,2)}function a(t){return 1-u(1-t)}function f(t){return.5>t?u(2*t)/2:1-u(2*(1-t))/2}function h(t){return Math.pow(t,3)}function l(t){return 1-h(1-t)}function c(t){return.5>t?h(2*t)/2:1-h(2*(1-t))/2}function d(t){return Math.pow(t,4)}function p(t){return 1-d(1-t)}function v(t){return.5>t?d(2*t)/2:1-d(2*(1-t))/2}function g(t){return Math.pow(t,5)}function m(t){return 1-m(1-t)}function y(t){return.5>t?g(2*t)/2:1-g(2*(1-t))/2}function w(t){var n=7.5625,e=2.75;return 1/e>t?n*t*t:2/e>t?(t-=1.5/e,n*t*t+.75):2.5/e>t?(t-=2.25/e,n*t*t+.9375):(t-=2.625/e,n*t*t+.984375)}function $(t){return 1-w(1-t)}function b(t){return.5>t?$(2*t)/2:1-$(2*(1-t))/2}function x(t){var n=t.delay,e=void 0===n?0:n,r=t.duration,i=void 0===r?0:r,o=t.easing,s=t.start,u=t.progress,a=t.end;x["super"].call(this);var f=Date.now();this.startTime=f+e,this.endTime=this.startTime+i,this.easing=z[o]||z.quadOut,this.started=!1,s&&this.on("start",s),u&&this.on("progress",u),a&&this.on("end",a),P.push(this),D||(D=!0,L(_))}function _(){var t=Date.now();if(!P.length)return void(D=!1);for(var n=0;n<P.length;n++){var e=P[n];if(!(t<e.startTime)){e.started||(e.started=!0,e.trigger("start"));var r=(t-e.startTime)/(e.endTime-e.startTime);r>1&&(r=1),e.trigger("progress",e.easing(r),r),t>e.endTime&&(e.trigger("end"),P.splice(n--,1))}}L(_,!0)}function O(t,n){var e=document.createElement(t);if("undefined"!=typeof n)for(var r in n)e.setAttribute(r,n[r]);return e}function A(t,n){var e=document.createElementNS("http://www.w3.org/2000/svg",t);if("undefined"!=typeof n)for(var r in n)e.setAttribute(n,n[r]);return e}function q(t){F.length||(j.trigger("render"),L(C)),F.push(t)}function C(){for(var t=F.splice(0,F.length),n=0,e=t.length;e>n;n++)t[n]();return 0===F.length?void j.trigger("rendered"):void C()}function I(t){if("undefined"!=typeof U[t])return U[t];if("undefined"!=typeof G[t])return U[t]=t,t;for(var n=t[0].toUpperCase()+t.slice(1),e=0,r=N.length;r>e;e++){var i=N[e]+n;if("undefined"!=typeof G[i])return U[t]=i,i}}function T(t,n,e){return"undefined"!=typeof H||(H=M()),e=e||0,H?"translate3d("+t+", "+n+", "+e+")":"translate("+t+", "+n+")"}function M(){var t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(!t)return!1;var n=I("transform"),e=document.createElement("p");return document.body.appendChild(e),e.style[n]="translate3d(1px,1px,1px)",H=e.style[n],H=null!=H&&H.length&&"none"!==H,document.body.removeChild(e),H}function B(t){var n=this instanceof B;return n?(B["super"].call(this),this.$el=t&&t.svg?A(t.el||"svg"):O(t.el||"div"),this.data={},this._attrs={},this._class={},this._style={},this._text="",t&&this.opt(t,null,!0),this.trigger("init",this),t.data&&this.set(t.data),void this.trigger("inited",this)):new B(t)}function E(){this.trigger("parentmount")}function k(){this.trigger("parentmounted")}function S(){this.$el.focus()}function V(t,n){var e=this instanceof V;return e?(this.view=new B(n),this.views=[],this.lookup={},void(this.ChildView=t||B)):new V(t,n)}t.prototype.on=function(t,n,e,r){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({once:r||!1,cb:n,ctx:e})},t.prototype.one=function(t,n,e){this.on(t,n,e,!0)},t.prototype.off=function(t,n,e){if("undefined"==typeof t)return void(this.listeners={});if("undefined"==typeof n)return void(this.listeners[t]=[]);var r=this.listeners[t];if(r)for(var i=0,o=r.length;o>i;i++)e?r[i].ctx===e&&(r.splice(i--,1),o--):r[i].cb===n&&(r.splice(i--,1),o--)},t.prototype.trigger=function(t){for(var n=this.listeners[t],e=arguments.length-1,r=new Array(e),i=0;e>i;i++)r[i]=arguments[i+1];if(n)for(var i=0;i<n.length;i++){var o=n[i];o.cb.apply(o.ctx||this,r),o.once&&(n.splice(i--,1),e--)}};var z={linear:s,quadIn:u,quadOut:a,quadInOut:f,cubicIn:h,cubicOut:l,cubicInOut:c,quartIn:d,quartOut:p,quartInOut:v,quintIn:g,quintOut:m,quintInOut:y,bounceIn:$,bounceOut:w,bounceInOut:b},L=window.requestAnimationFrame||function(t){setTimeout(t,1e3/60)},P=[],D=void 0;o(x,t),x.prototype.destroy=function(){for(var t=0;t<P.length;t++)if(P[t]===this)return void P.splice(t,1)};var F=[],j=new t,G=document.createElement("p").style,N=["webkit","moz","Moz","ms","o"],U={},H=void 0;o(B,t),B.extend=function(t){return function(n){if(!n)return new B(t);var e={};for(var r in t)e[r]=t[r];for(var r in n)e[r]=n[r];return new B(e)}},B.prototype.mount=function(t){var n=this;this.parent&&(this.parent.off("mount",E,this),this.parent.off("mounted",k,this)),this.$root&&(this.trigger("unmount"),this.trigger("unmounted")),t instanceof B?(this.parent=t,this.$root=t.$el):this.$root=t,q(function(){n.parent&&(n.parent.on("mount",E,n),n.parent.on("mounted",k,n)),n.trigger("mount"),n.$root.appendChild(n.$el),n.trigger("mounted")})},B.prototype.unmount=function(){var t=this,n=this.$el;this.$root&&(this.parent&&(this.parent.off("mount",E,this),this.parent.off("mounted",k,this)),q(function(){t.trigger("unmount"),t.$root.removeChild(n),t.$root=null,t.parent=null,t.trigger("unmounted")}))},B.prototype.destroy=function(){this.trigger("destroy"),this.off(),this.unmount(),this.trigger("destroyed")},B.prototype.mountBefore=function(t,n){var e=this.$el;this.$root=t,q(function(){t.insertBefore(e,n)})},B.prototype.set=function(t,n){var e=this,r={};"string"==typeof t?r[t]=n:null!=t&&(r=t),q(function(){e.trigger("render")}),this.trigger("update",r);for(var i in r)this.data[i]=r[i];this.trigger("updated"),q(function(){e.trigger("rendered")})},B.prototype.opt=function(t,n,e){var r={};if("undefined"!=typeof t){"string"==typeof t?r[t]=n:null!=t&&(r=t);for(var i in r)if("attr"===i)this.attr(r.attr);else if("href"===i)this.attr({href:r.href});else if("id"===i)this.attr({id:r.id});else if("data"===i)e||this.set(r.data);else if("style"===i){if("string"==typeof r.style){this.attr({style:r.style});continue}this.style(r.style)}else if("class"===i){if("string"==typeof r["class"]){this.attr({"class":r["class"]});continue}this["class"](r["class"])}else"text"===i?this.text(r.text):"listen"===i?this.listen(r.listen):"init"===i?this.on("init",r.init):"update"===i?this.on("update",r.update):"mount"===i?this.on("mount",r.mount):"mounted"===i?this.on("mounted",r.mounted):"unmount"===i?this.on("unmount",r.unmount):"unmounted"===i?this.on("unmounted",r.unmounted):"destroy"===i?this.on("destroy",r.destroy):"parent"===i?this.mount(r.parent):"$root"===i?this.mount(r.$root):this[i]=r[i]}},B.prototype.text=function(t){var n=this,e=this.$el;t!==this._text&&(this._text=t,q(function(){t===n._text&&(e.textContent=t)}))},B.prototype.listen=function(t,n){var e=this,r=this.$el,i={};"string"==typeof t?i[t]=n:null!=t&&(i=t);var o=function(t){n=i[t],e.on(t,n),r.addEventListener(t,function(n){e.trigger(t,n)})};for(var s in i)o(s)},B.prototype["class"]=function(t,n){var e=this,r=this.$el,i={};"string"==typeof t?i[t]=n:null!=t&&(i=t);var o=function(t){n=i[t],e._class[t]!==n&&(e._class[t]=n,q(function(){e._class[t]===n&&(n?r.classList.add(t):r.classList.remove(t))}))};for(var s in i)o(s)},B.prototype.style=function(t,n){var e=this,r=this.$el,i={};"string"==typeof t?i[t]=n:null!=t&&(i=t);var o=function(t){n=i[t],e._style[t]!==n&&(e._style[t]=n,q(function(){e._style[t]===i[t]&&(r.style[t]=n)}))};for(var s in i)o(s)},B.prototype.attr=function(t,n){var e=this,r=this.$el,i=this._attrs,o={};"string"==typeof t?o[t]=n:null!=t&&(o=t);var s=function(t){n=o[t],n!==i[t]&&(e._attrs[t]=n,n===e._attrs[t]&&q(function(){if(n===e._attrs[t]){if(n===!1||null==n)return void r.removeAttribute(t);r.setAttribute(t,n),"autofocus"===t&&(n?(r.focus(),e.on("mounted",S),e.on("parentmounted",S,e)):(e.off("mounted",S),e.off("parentmounted",S,e)))}}))};for(var u in o)s(u)},o(V,t),V.prototype.mount=function(t){this.view.mount(t)},V.prototype.mountBefore=function(t,n){this.view.mountBefore(t,n)},V.prototype.unmount=function(){this.view.unmount()},V.prototype.reset=function(t,n){for(var e=this.ChildView,r=new Array(t.length),i={},o=this.lookup,s=0,u=t.length,a=void 0,f=void 0;u>s;s++){var h=t[s];a=n?h[n]:s,f=o[a],f||(f=new e({parent:this.view})),i[a]=f,f.set(h),r[s]=f}for(var a in o)i[a]||o[a].destroy();this.views=r,this.lookup=i,this.reorder()},V.prototype.reorder=function(){var t=this,n=this.view.$el;q(function(){for(var e=n.firstChild,r=0,i=t.views.length;i>r;r++){var o=t.views[r];if(e===o.$el)return void(e=e.nextSibling);e?(o.$root=n,n.insertBefore(o.$el,e)):(o.$root=n,n.appendChild(o.$el))}for(;e;){var s=e.nextSibling;n.removeChild(e),e=s}})};var J={Animation:x,batchAnimationFrame:q,each:n,element:O,filter:e,inherits:o,map:i,shuffle:r,prefix:I,renderer:j,translate:T,Observable:t,SVGelement:A,View:B,Views:V};return J}();